<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> A Survey of Research on Microservices | Xingjian Zhang's page </title> <meta name="author" content="Zhang Xingjian"> <meta name="description" content="A Survey of Research on Microservice"> <meta name="keywords" content="academic-website, technical-blogs"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%F0%9F%99%82&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://thuzxj.github.io/blog/2024/microservices/"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script src="/assets/js/theme.js?0afe9f0ae161375728f7bcc5eb5b4ab4"></script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> Xingjian Zhang's page </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about </a> </li> <li class="nav-item "> <a class="nav-link" href="/blog/">blog </a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">publications </a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">cv </a> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="fa-solid fa-moon"></i> <i class="fa-solid fa-sun"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main"> <div class="post"> <header class="post-header"> <h1 class="post-title">A Survey of Research on Microservices</h1> <p class="post-meta"> December 01, 2024 </p> <p class="post-tags"> <a href="/blog/2024"> <i class="fa-solid fa-calendar fa-sm"></i> 2024 </a>   ·   <a href="/blog/tag/microservice"> <i class="fa-solid fa-hashtag fa-sm"></i> microservice</a>   <a href="/blog/tag/cloud"> <i class="fa-solid fa-hashtag fa-sm"></i> cloud</a>     ·   <a href="/blog/category/academic"> <i class="fa-solid fa-tag fa-sm"></i> academic</a>   </p> </header> <article class="post-content"> <div id="markdown-content"> <h2 id="introduction-of-microservice">Introduction of Microservice</h2> <p>Microservice architecture splits complex monolithic applications into multiple smaller, independent services. Microservices are loosely coupled and can be developed, deployed, and scaled independently. They collaborate through calling well-defined APIs with RPC, HTTP, or message queues.</p> <h3 id="technology-stack">Technology Stack</h3> <h4 id="hosting">Hosting</h4> <ul> <li>Container (e.g., Docker, containerd): Resource isolation</li> <li>Kubernetes: Orchestration</li> </ul> <h4 id="communication">Communication</h4> <ul> <li>service mesh (e.g., Istio, Linkerd): Traffic management, security, observability</li> <li>RPC (e.g., gRPC, Thrift)</li> <li>Message queue (e.g., Kafka, RabbitMQ)</li> <li>RESTful API</li> </ul> <h4 id="observability">Observability</h4> <ul> <li>Tracing (e.g., Jaeger, Zipkin, OpenTelemetry, Google Dapper)</li> </ul> <h2 id="research-topics">Research Topics</h2> <p>As microservices have multiple advantages, they also bring challenges, such as the complexity and overhead introduced by the communication between services. However, the decoupling of services enables us to perform fine-grained management of services and networks. The following are some research topics in microservices.</p> <h3 id="resource-management">Resource management</h3> <p>Kubernetes enables the autoscaling of the services. Vertical scaling changes the size of the resources of a single instance, such as the CPU and memory allocation of the container, while horizontal scaling changes the number of instances. The widely-used simple autoscaling algorithm needs the users to configure the range of vertical or horizontal scaling and refers to the CPU and memory usage of the services or other custom metrics to make decisions. The autoscaling algorithm helps the service adjust to dynamic or unpredictable workloads. When the workload is low, it can allocate fewer resources. When the workload increases, it can allocate more resources automatically to handle the request spikes.</p> <p>However, the decisions of autoscaling are only aware of single services, rather than the SLO of the requests and the resource usage of the whole service. One whole service can be presented as a DAG. One request can be processed by the services in parallel or in serial. The latency of the requests is the sum of the latency of each service layer in the process.</p> <p>What’s more, the configurations of the microservices are too complex for users. Users only know their SLO when deploying the services, and don’t know the SLO of each service, even the suitable resource allocation for each service.</p> <p>The basic problem is how to save as many resources as possible while guaranteeing the SLO of the service. A series of research works have been done to solve the related problems.</p> <h4 id="methodology">Methodology</h4> <p>The basic methodology includes three components. The first component involves exploring the observability of services, which provides insights into their current status. For example, leveraging new monitoring metrics to know the status more clearly, like using run queue length to guess the waiting task number (SHOWAR), and using gateway network traffic to guess the current request number (Nodens).</p> <p>The second one is the profiling and modelling of the services to predict their performance in different conditions. This component bridges the gap between the concerned performance metrics that we want to optimize, the workloads we need to handle, and the resource allocation that we can control. For each service, we can collect the data points online or offline, and model them with simple functional relationships (Cilantro, Erms). A performance model is not always necessary, as it can be replaced by a feedback-based mechanism.</p> <p>The third one is the scheduler to solve the optimization problem, that is reducing the resource usage in the constraints of guaranteeing SLO. As microservices give complex and huge action space, many works use neural networks, especially Deep Reinforcement Learning (FIRM, AWARE, Autothrottle). The DL methods have potential to solve complex strategy problems without artificial design. There are also non-DL algorithms to reach the goals (Cilantro, Erms, Derm). These methods introduce more expert knowledges of autoscaling.</p> <h4 id="evaluations">Evaluations</h4> <p>The evaluation of the performance of these works is challenging. Due to the importance of the SLO and the potential side effects of adopting new methods, these studies typically experiment with dedicated experimental systems. The experimental systems always include microservice benchmarks and load generators simulating the real load traces, running on several hosts.</p> <h4 id="comments">Comments</h4> <p>These works give us valuable insights into the resource management of microservices. They consider the QoS of services and propose various methods to manage resources efficiently.</p> <p>However, some disadvantages still hinder the practical application of these methods. Here are some of them:</p> <ol> <li> <strong>The complexity of the system.</strong> These methods always give a redesign of every component in the scheduler for slightly different goals, thus these methods are not compatible with each other. Moreover, compared to the potential resource savings, the cost of implementing complex algorithms may outweigh the benefits. If we want to gain the advantages of several systems, the combined system needs to be designed with effort and will be much more complex.</li> <li> <strong>The tradeoff of saving resources and throttling the services.</strong> Where do the saved resources come from? Part of them are from the higher resource utilization. Another part of them is from the throttling of services. Because the target is set to reduce SLO violations, the real latencies of the services are ignored if they satisfy the SLO. Thus, the average latency of the services under these schedulers is higher because some services are throttled to save resources.</li> <li> <strong>The difficulty of proving the effectiveness of the methods.</strong> The evaluation of the methods is challenging and current evaluations are not very convincing. The experimental systems evaluate the methods, which are much simpler than the real-world systems. Their generalizability to microservices with different designs, scale and dynamic changes, can not be evaluated. In particular, the DL models’ low explainability limits their further usage in production because of the possible unexpected outputs.</li> <li> <strong>The ignorance of exploring the lower-level details of the services.</strong> The latency of the services, the basis of SLO, needs more inspection. The latency contains the waiting time in the running queue, the program processing time, the network latency and so on. To have a further understanding of microservices, besides experiments, we need more explanations from the viewpoint of queue theory, probability theory, OS scheduling, the host network and so on.</li> <li><strong>To be Continued.</strong></li> </ol> <h4 id="papers">Papers</h4> <ul> <li>ATOM: Model-Driven Autoscaling for Microservices (ICDCS’19)</li> <li>PARTIES: QoS-Aware Resource Partitioning for Multiple Interactive Services (ASPLOS’19)</li> <li>GrandSLAm: Guaranteeing SLAs for Jobs in Microservices Execution Frameworks (EuroSys’19)</li> <li>FIRM: An Intelligent Fine-grained Resource Management Framework for {SLO-Oriented} Microservices (OSDI’20)</li> <li>SHOWAR: Right-Sizing And Efficient Scheduling of Microservices (SoCC’21)</li> <li>SINAN: ML-based and QoS-aware resource management for cloud microservices (ASPLOS’21)</li> <li>ORION and the Three Rights: Sizing, Bundling, and Prewarming for Serverless DAGs (OSDI’22)</li> <li>Erms: Efficient Resource Management for Shared Microservices with SLA Guarantees (ASPLOS’23)</li> <li>Cilantro: Performance-Aware Resource Allocation for General Objectives via Online Feedback (OSDI’23)</li> <li>Nodens: Enabling Resource Efficient and Fast {QoS} Recovery of Dynamic Microservice Applications in Datacenters (ATC’23)</li> <li>AWARE: Automate Workload Autoscaling with Reinforcement Learning in Production Cloud Systems (ATC’23)</li> <li>Autothrottle: A Practical Bi-Level Approach to Resource Management for SLO-Targeted Microservices (NSDI’24)</li> <li>Derm: SLA-aware Resource Management for Highly Dynamic Microservices (ISCA’24)</li> </ul> <h3 id="network-performance">Network performance</h3> <p>Microservice architecture introduces more network communication between services. Network communications introduce more overhead than function calls in monolith applications, including the inter-node and intra-node network overhead. If a sidecar mechanism is used, the network overhead will be greater. Thus the average overall latency of the service is higher.</p> <p>Placing services with close relationships on the same host can reduce inter-node network traffic and latency. However, it may destroy the independence of the services, which is one of the principle of microservice architecture.</p> <p>Reducing the host network overhead as much as possible is also a promising direction. Kernel bypass technologies have been applied to RPC.</p> <h4 id="papers-1">Papers</h4> <ul> <li>A Cloud-Scale Characterization of Remote Procedure Calls (SOSP’23)</li> <li>Remote Procedure Call as a Managed System Service (NSDI’23)</li> <li>MuCache: A General Framework for Caching in Microservice Graphs (NSDI’24)</li> <li>HydraRPC: RPC in the CXL Era (ATC’24)</li> </ul> <h3 id="configuration-tuning">Configuration tuning</h3> <p>The configuration space of microservice is huge, thus it is meaningful to build tools to explore the configuration automatically and easily.</p> <h4 id="papers-2">Papers</h4> <ul> <li>Blueprint: A Toolchain for Highly-Reconfigurable Microservices (SOSP’23)</li> <li>OPTIMUSCLOUD: Heterogeneous Configuration Optimization for Distributed Databases in the Cloud (ATC’19)</li> <li>μTune: Auto-Tuned Threading for OLDI Microservices (OSDI’18)</li> </ul> <h3 id="tracing">Tracing</h3> <p>Tracing of the request processing in the microservices is important for extracting dependencies, troubleshooting and performance analysis.</p> <p>Current tracing systems like OpenTelemetry require modification of the application code to actively report the request information and timestamps.</p> <h4 id="papers-3">Papers</h4> <ul> <li>Network-Centric Distributed Tracing with DeepFlow: Troubleshooting Your Microservices in Zero Code (SigComm’23)</li> <li>CRISP: Critical Path Analysis of Large-Scale Microservice Architectures (ATC’22)</li> <li>The Benefit of Hindsight: Tracing Edge-Cases in Distributed Systems (NSDI’23)</li> </ul> <h3 id="fault-localization">Fault localization</h3> <p>This field focuses on using the relationships between services to locate the position of the performance or logic problem. The unique problem in microservices is that one fault in a service can spread in the call graph and cause multiple faults in related services, thus localizing the root causes is challenging.</p> <h4 id="comments-1">Comments</h4> <p>Personally speaking, without experience in production microservices, current fault localization works don’t convince me of their motivation about the complexity of finding where the root causes are located. The status of each service, such as workload overwhelming, resource contention and degration caused by other services, can be inferred through the metrics of the services, including request number, resource usage, response latency. Judging whether the performance problem is caused by the service itself or the other services seems not difficult.</p> <h4 id="papers-4">Papers</h4> <ul> <li>Sage: Practical &amp; Scalable ML-Driven Performance Debugging in Microservices (ASPLOS’21)</li> <li>Murphy: Performance Diagnosis of Distributed Cloud Applications (Sigcomm’23)</li> <li>Explainit! – a declarative root-cause analysis engine for time series data. (SIGMOD’19)</li> </ul> <h3 id="simulator-of-microservices">Simulator of microservices</h3> <p>Simulation is an important tool for understanding the performance of microservices. However, currently there are few actively maintained simulators for microservices.</p> <h4 id="papers-5">Papers</h4> <ul> <li>PerfSim: A Performance Simulator for Cloud Native Microservice Chains</li> <li>μqSim: Enabling Accurate and Scalable Simulation for Interactive Microservices</li> </ul> <h3 id="demo-microservices-for-research">Demo microservices for research</h3> <ul> <li><a href="https://github.com/delimitrou/DeathStarBench" rel="external nofollow noopener" target="_blank">DeathStarBench</a></li> <li><a href="https://github.com/FudanSELab/train-ticket" rel="external nofollow noopener" target="_blank">Train-Ticket</a></li> <li><a href="https://github.com/microservices-demo" rel="external nofollow noopener" target="_blank">Microservice-demo</a></li> </ul> </div> </article> <br> <hr> <br> <ul class="list-disc pl-8"></ul> <h2 class="text-3xl font-semibold mb-4 mt-12">Enjoy Reading This Article?</h2> <p class="mb-2">Here are some more articles you might like to read next:</p> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2023/deterministic-build-by-eBPF/">Deterministic Compilation by eBPF (基于eBPF的确定性编译工具)</a> </li> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> © Copyright 2024 Zhang Xingjian. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script src="/assets/js/no_defer.js?2930004b8d7fcd0a8e00fdcfc8fc9f24"></script> <script defer src="/assets/js/common.js?4a129fbf39254905f505c7246e641eaf"></script> <script defer src="/assets/js/copy_code.js?12775fdf7f95e901d7119054556e495f" type="text/javascript"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>